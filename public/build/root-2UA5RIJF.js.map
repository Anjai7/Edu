{
  "version": 3,
  "sources": ["../../app/root.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\root.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\root.tsx\");\n}\n// REMIX HMR END\n\nimport { Links, Meta, Outlet, Scripts, ScrollRestoration, useLocation, useLoaderData } from \"@remix-run/react\";\nimport { json } from \"@remix-run/node\";\nimport { useEffect, useState } from \"react\";\n\n// Use Remix's proper way to import CSS\nimport tailwindStylesheetUrl from \"./tailwind.css?url\";\nexport const links = () => [{\n  rel: \"stylesheet\",\n  href: tailwindStylesheetUrl\n}];\nexport async function loader({\n  request\n}) {\n  return json({\n    ENV: {\n      SUPABASE_URL: process.env.SUPABASE_URL || '',\n      SUPABASE_ANON_KEY: process.env.SUPABASE_ANON_KEY || ''\n    }\n  });\n}\nexport function Layout({\n  children\n}) {\n  _s();\n  // Safely access loader data, with fallback for error boundaries\n  let data = {\n    ENV: {\n      SUPABASE_URL: '',\n      SUPABASE_ANON_KEY: ''\n    }\n  };\n  try {\n    const loaderData = useLoaderData();\n    if (loaderData && loaderData.ENV) {\n      data = loaderData;\n    }\n  } catch (error) {\n    // Error boundary or no loader data available - use fallback\n    console.warn('Could not load environment variables:', error);\n  }\n  return <html lang=\"en\">\r\n      <head>\r\n        <meta charSet=\"utf-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n        <link rel=\"icon\" href=\"/favicon.ico\" type=\"image/x-icon\" />\r\n        <link rel=\"icon\" href=\"/favicon.svg\" type=\"image/svg+xml\" />\r\n        <Meta />\r\n        <Links />\r\n        <script dangerouslySetInnerHTML={{\n        __html: `window.ENV = ${JSON.stringify(data.ENV)};`\n      }} />\n        \r\n      </head>\r\n      <body className=\"bg-gray-50 min-h-screen\">\r\n        {children}\r\n        <ScrollRestoration />\r\n        <Scripts />\r\n      </body>\r\n    </html>;\n}\n_s(Layout, \"ceKF1Gd7W4lGV+M78eBsU+KQIkw=\", false, function () {\n  return [useLoaderData];\n});\n_c = Layout;\nexport default function App() {\n  _s2();\n  const location = useLocation();\n  const isLoginPage = location.pathname === '/login' || location.pathname === '/auth/callback';\n  const [userInfo, setUserInfo] = useState({\n    email: '',\n    name: '',\n    type: '',\n    isAuthenticated: false\n  });\n  useEffect(() => {\n    // Check authentication status and user info from sessionStorage\n    const isAuthenticated = sessionStorage.getItem('isAuthenticated') === 'true';\n    const userEmail = sessionStorage.getItem('userEmail') || '';\n    const userName = sessionStorage.getItem('userName') || '';\n    const userType = sessionStorage.getItem('userType') || '';\n    console.log('Root component - checking auth:', {\n      isAuthenticated,\n      userEmail,\n      userName,\n      userType,\n      isLoginPage,\n      currentPath: location.pathname\n    });\n    setUserInfo({\n      email: userEmail,\n      name: userName,\n      type: userType,\n      isAuthenticated\n    });\n\n    // Redirect to login if not authenticated and not on login page\n    if (!isAuthenticated && !isLoginPage) {\n      console.log('Not authenticated, redirecting to login');\n      window.location.href = '/login';\n    }\n  }, [isLoginPage, location.pathname]); // Add location.pathname to deps\n\n  const handleLogout = () => {\n    sessionStorage.removeItem('isAuthenticated');\n    sessionStorage.removeItem('userType');\n    sessionStorage.removeItem('userEmail');\n    sessionStorage.removeItem('userName');\n    window.location.href = '/login';\n  };\n\n  // Show login page without navigation\n  if (isLoginPage) {\n    return <Outlet />;\n  }\n\n  // Show loading state while checking authentication\n  if (!userInfo.isAuthenticated) {\n    return <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Loading...</h2>\r\n          <p className=\"text-gray-600\">Please wait while we verify your authentication.</p>\r\n        </div>\r\n      </div>;\n  }\n  return <div className=\"min-h-screen\">\r\n      <Outlet />\r\n    </div>;\n}\n_s2(App, \"w8w3ynS8SQozan1CLDvPIRnBfHM=\", false, function () {\n  return [useLocation];\n});\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"Layout\");\n$RefreshReg$(_c2, \"App\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBA,kBAAqB;AACrB,IAAAA,gBAAoC;;;;;;AAwC5B;AA9DR,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,sBAAwB,EAAE;AAAA,EACnE;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAAtB,IACE,MAAM,aAAa;AAErB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAAe;AACjB;AASO,IAAM,QAAQ,MAAM,CAAC;AAAA,EAC1B,KAAK;AAAA,EACL,MAAM;AACR,CAAC;AAWM,SAAS,OAAO;AAAA,EACrB;AACF,GAAG;AACD,KAAG;AAEH,MAAI,OAAO;AAAA,IACT,KAAK;AAAA,MACH,cAAc;AAAA,MACd,mBAAmB;AAAA,IACrB;AAAA,EACF;AACA,MAAI;AACF,UAAM,aAAa,cAAc;AACjC,QAAI,cAAc,WAAW,KAAK;AAChC,aAAO;AAAA,IACT;AAAA,EACF,SAAS,OAAP;AAEA,YAAQ,KAAK,yCAAyC,KAAK;AAAA,EAC7D;AACA,SAAO,mDAAC,UAAK,MAAK,MACd;AAAA,uDAAC,UACC;AAAA,yDAAC,UAAK,SAAQ,WAAd;AAAA;AAAA;AAAA;AAAA,aAAsB;AAAA,MACtB,mDAAC,UAAK,MAAK,YAAW,SAAQ,yCAA9B;AAAA;AAAA;AAAA;AAAA,aAAoE;AAAA,MACpE,mDAAC,UAAK,KAAI,QAAO,MAAK,gBAAe,MAAK,kBAA1C;AAAA;AAAA;AAAA;AAAA,aAAyD;AAAA,MACzD,mDAAC,UAAK,KAAI,QAAO,MAAK,gBAAe,MAAK,mBAA1C;AAAA;AAAA;AAAA;AAAA,aAA0D;AAAA,MAC1D,mDAAC,UAAD;AAAA;AAAA;AAAA;AAAA,aAAM;AAAA,MACN,mDAAC,WAAD;AAAA;AAAA;AAAA;AAAA,aAAO;AAAA,MACP,mDAAC,YAAO,yBAAyB;AAAA,QACjC,QAAQ,gBAAgB,KAAK,UAAU,KAAK,GAAG;AAAA,MACjD,KAFE;AAAA;AAAA;AAAA;AAAA,aAEC;AAAA,SATH;AAAA;AAAA;AAAA;AAAA,WAWA;AAAA,IACA,mDAAC,UAAK,WAAU,2BACb;AAAA;AAAA,MACD,mDAAC,uBAAD;AAAA;AAAA;AAAA;AAAA,aAAmB;AAAA,MACnB,mDAAC,aAAD;AAAA;AAAA;AAAA;AAAA,aAAS;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA,WAIA;AAAA,OAjBG;AAAA;AAAA;AAAA;AAAA,SAkBL;AACJ;AACA,GAAG,QAAQ,gCAAgC,OAAO,WAAY;AAC5D,SAAO,CAAC,aAAa;AACvB,CAAC;AACD,KAAK;AACU,SAAR,MAAuB;AAC5B,MAAI;AACJ,QAAM,WAAW,YAAY;AAC7B,QAAM,cAAc,SAAS,aAAa,YAAY,SAAS,aAAa;AAC5E,QAAM,CAAC,UAAU,WAAW,QAAI,wBAAS;AAAA,IACvC,OAAO;AAAA,IACP,MAAM;AAAA,IACN,MAAM;AAAA,IACN,iBAAiB;AAAA,EACnB,CAAC;AACD,+BAAU,MAAM;AAEd,UAAM,kBAAkB,eAAe,QAAQ,iBAAiB,MAAM;AACtE,UAAM,YAAY,eAAe,QAAQ,WAAW,KAAK;AACzD,UAAM,WAAW,eAAe,QAAQ,UAAU,KAAK;AACvD,UAAM,WAAW,eAAe,QAAQ,UAAU,KAAK;AACvD,YAAQ,IAAI,mCAAmC;AAAA,MAC7C;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,aAAa,SAAS;AAAA,IACxB,CAAC;AACD,gBAAY;AAAA,MACV,OAAO;AAAA,MACP,MAAM;AAAA,MACN,MAAM;AAAA,MACN;AAAA,IACF,CAAC;AAGD,QAAI,CAAC,mBAAmB,CAAC,aAAa;AACpC,cAAQ,IAAI,yCAAyC;AACrD,aAAO,SAAS,OAAO;AAAA,IACzB;AAAA,EACF,GAAG,CAAC,aAAa,SAAS,QAAQ,CAAC;AAEnC,QAAM,eAAe,MAAM;AACzB,mBAAe,WAAW,iBAAiB;AAC3C,mBAAe,WAAW,UAAU;AACpC,mBAAe,WAAW,WAAW;AACrC,mBAAe,WAAW,UAAU;AACpC,WAAO,SAAS,OAAO;AAAA,EACzB;AAGA,MAAI,aAAa;AACf,WAAO,mDAAC,YAAD;AAAA;AAAA;AAAA;AAAA,WAAQ;AAAA,EACjB;AAGA,MAAI,CAAC,SAAS,iBAAiB;AAC7B,WAAO,mDAAC,SAAI,WAAU,8FAClB,6DAAC,SAAI,WAAU,eACb;AAAA,yDAAC,SAAI,WAAU,oGAAf;AAAA;AAAA;AAAA;AAAA,aAAgH;AAAA,MAChH,mDAAC,QAAG,WAAU,4CAA2C,0BAAzD;AAAA;AAAA;AAAA;AAAA,aAAmE;AAAA,MACnE,mDAAC,OAAE,WAAU,iBAAgB,gEAA7B;AAAA;AAAA;AAAA;AAAA,aAA6E;AAAA,SAH/E;AAAA;AAAA;AAAA;AAAA,WAIA,KALG;AAAA;AAAA;AAAA;AAAA,WAML;AAAA,EACJ;AACA,SAAO,mDAAC,SAAI,WAAU,gBAClB,6DAAC,YAAD;AAAA;AAAA;AAAA;AAAA,SAAQ,KADL;AAAA;AAAA;AAAA;AAAA,SAEL;AACJ;AACA,IAAI,KAAK,gCAAgC,OAAO,WAAY;AAC1D,SAAO,CAAC,WAAW;AACrB,CAAC;AACD,MAAM;AACN,IAAI;AAAJ,IAAQ;AACR,aAAa,IAAI,QAAQ;AACzB,aAAa,KAAK,KAAK;AAEvB,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": ["import_react"]
}
